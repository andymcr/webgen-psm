[comment encoding = UTF-8 /]
[module configProd(
	'http://www.cs.man.ac.uk/mdsd/2010/Jsf',
	'http://www.cs.man.ac.uk/mdsd/2010/ObjectRelationalMapping')]
[import uk::ac::man::cs::mdsd::web::m2t::core::files/]
[import uk::ac::man::cs::mdsd::jsf::m2t::symfony::files/]


[template public generateConfigProd(jsfModel : JsfModel)]
[file (jsfModel.configBaseFilename().concat('_prod').concat(jsfModel.ymlExtension()), false)]
# [jsfModel.configBaseFilename()/]_prod[jsfModel.ymlExtension()/]
imports:
    - { resource: config.yml }

#framework:
#    validation:
#        cache: apc

#doctrine:
#    orm:
#        metadata_cache_driver: apc
#        result_cache_driver: apc
#        query_cache_driver: apc

monolog:
    handlers:
        main:
            type:         fingers_crossed
            action_level: error
            handler:      nested
        nested:
            type:  stream
            path:  "%kernel.logs_dir%/%kernel.environment%.log"
            level: debug
        console:
            type:  console
[/file]
[/template]
