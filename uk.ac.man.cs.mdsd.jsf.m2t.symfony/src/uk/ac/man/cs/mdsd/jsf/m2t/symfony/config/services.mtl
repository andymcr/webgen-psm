[comment encoding = UTF-8 /]
[module services(
	'http://www.cs.man.ac.uk/mdsd/2010/Jsf')]
[import uk::ac::man::cs::mdsd::jsf::m2t::symfony::files/]
[import uk::ac::man::cs::mdsd::jsf::m2t::symfony::names/]
[import uk::ac::man::cs::mdsd::web::m2t::core::files/]
[import uk::ac::man::cs::mdsd::web::m2t::core::common::featureProperties/]


[template public generateConfigServices(model : JsfModel)]
[file (model.configDirectory().concat('/').concat('services').concat(model.ymlExtension()), false)]
# [model.configDirectory()/]/services[model.ymlExtension()/]
services:
    twig.extension.text:
        class: Twig_Extensions_Extension_Text
        tags:
            - { name: twig.extension }
[if (model.hasServicesWithSelections())]
	[for (service : Service | model.servicesWithSelections())]
    [service.name/]:
        class: [service.appBundleName()/]\Service\[service.serviceClassName()/]
        arguments: ['['/]"@doctrine"[']'/]
	[/for]
[/if]
[/file]
[/template]
